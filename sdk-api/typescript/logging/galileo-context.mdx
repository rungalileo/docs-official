---
title: Log Function Wrapper
icon: "box"
---

import SnippetLogWrapperBasic from '/snippets/code/typescript/sdk/logging/log-wrapper-basic.mdx'
import SnippetLogWrapperExample from '/snippets/code/typescript/sdk/logging/log-wrapper-example.mdx'
import SnippetLogWrapperRetriever from '/snippets/code/typescript/sdk/logging/log-wrapper-retriever.mdx'
import SnippetLogWrapperApi from '/snippets/code/typescript/sdk/logging/log-wrapper-api.mdx'

The `log` function wrapper allows you to wrap functions with spans of different types. This is useful for creating workflow spans with nested LLM calls or tool spans.

## Use Cases

The `log` function wrapper can be useful for:

- Creating workflow spans that can contain nested LLM calls or other spans
- Marking functions as tool spans to track tool usage
- Creating retriever spans to track document retrieval operations
- Automatically capturing the input and output of functions

## Usage

<CodeGroup>
<SnippetLogWrapperBasic />
</CodeGroup>

## Examples

### Basic Example

Using the log wrapper to create a workflow span with nested LLM and tool spans:

<CodeGroup>
<SnippetLogWrapperExample />
</CodeGroup>

### Retriever Example

Creating a retriever span to track document retrieval:

<CodeGroup>
<SnippetLogWrapperRetriever />
</CodeGroup>

## Span Types

The `log` function wrapper supports different span types:

- **workflow**: A span that can have child spans, useful for nesting several child spans to denote a thread within a trace. If you wrap a parent function with `log`, calls that are made within that scope are automatically logged in the same trace.
- **llm**: Captures the input, output, and settings of an LLM call. This span gets automatically created when our client library wrappers (OpenAI and Anthropic) are used. Cannot have nested children.
- **retriever**: Contains the output documents of a retrieval operation.
- **tool**: Captures the input and output of a tool call. Used to decorate functions that are invoked as tools.