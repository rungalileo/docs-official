```typescript TypeScript
function log<T>(
  options: {
    name?: string;
    spanType?: "workflow" | "llm" | "retriever" | "tool";
    metadata?: Record<string, any>;
  },
  fn: (...args: any[]) => T
): (...args: any[]) => T
``` 